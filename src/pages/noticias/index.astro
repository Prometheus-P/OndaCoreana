---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ContentCard from '../../components/ui/ContentCard.astro';
import FAQSection from '../../components/ui/FAQSection.astro';
import JsonLd from '../../components/seo/JsonLd.astro';
import { getPublishedContentSorted } from '../../utils/content-helpers';
import { newsCategories } from '../../config/content-types';

const noticias = await getPublishedContentSorted('noticias');

// FAQ data for AEO optimization - Magazine tone
const faqData = [
  {
    question: '¿Dónde puedo encontrar noticias de K-Drama y K-Pop en español?',
    answer: '¡Estás en el lugar correcto! En OndaCoreana vivimos y respiramos entretenimiento coreano, y te lo contamos todo en español. Estrenos de dramas, comebacks que rompen internet, chismes de actores, ceremonias de premios... lo cubrimos TODO. Actualizamos constantemente porque sabemos que en el mundo K, las noticias no esperan. Síguenos y nunca más te perderás ese anuncio que hace explotar las redes.',
  },
  {
    question: '¿Qué es Hallyu o la Ola Coreana?',
    answer: 'Hallyu es el nombre de esta revolución cultural que nos tiene a todos obsesionados. Empezó en los 2000s con dramas conquistando Asia, y ahora es GLOBAL: K-Pop en los Grammy, "Parásitos" ganando Oscars, K-beauty en todos los baños, BBQ coreano en cada ciudad. No es una moda pasajera: es un cambio cultural que llegó para quedarse. Y tú, leyendo esto, ya eres parte de esta ola.',
  },
  {
    question: '¿Cuándo se estrenan nuevos K-Dramas?',
    answer: '¡Todo el año, cada semana! No hay "temporadas" como en occidente. Las cadenas coreanas estrenan dramas constantemente, típicamente miércoles-jueves o sábados-domingos. Netflix y Disney+ tienen sus propios calendarios. ¿Lo mejor? Te mantenemos actualizado con cada estreno importante. Los subtítulos suelen estar disponibles horas después de la emisión coreana. Tu único problema será elegir qué ver primero.',
  },
  {
    question: '¿Cómo me entero de los comebacks de K-Pop?',
    answer: 'Los comebacks se anuncian 2-4 semanas antes y el proceso es EMOCIONANTE: primero el anuncio de fecha, luego fotos conceptuales que rompen internet, teasers que analizamos frame por frame, highlight medley... hasta el día del lanzamiento. Es como una cuenta regresiva de Navidad pero varias veces al año. Nosotros cubrimos todos los comebacks importantes para que nunca te pierdas uno.',
  },
  {
    question: '¿Qué premios importantes existen en el entretenimiento coreano?',
    answer: '¡Las ceremonias de premios son EVENTOS! En música: MAMA es la más espectacular, Melon Music Awards y Golden Disc son imperdibles. En dramas: los Baeksang son como los Oscar coreanos (¡prepara los pañuelos!). Blue Dragon premia cine. Cada ceremonia trae performances épicas, momentos virales, y sí, lágrimas de idols y actores. Cubrimos todas las nominaciones, ganadores, y los looks de la alfombra roja.',
  },
  {
    question: '¿Los actores de K-Drama también cantan?',
    answer: '¡Muchos son artistas COMPLETOS! IU empezó cantando y ahora gana premios de actuación. D.O. de EXO te hace llorar en pantalla. Cha Eun-woo de ASTRO es tan guapo que parece CGI. Y muchos actores graban OST para sus propios dramas, llevando la emoción a otro nivel. La industria coreana valora la versatilidad, así que no te sorprendas cuando tu actor favorito lance un single.',
  },
  {
    question: '¿Qué significa OST en K-Drama?',
    answer: 'OST = las canciones que te van a DESTRUIR emocionalmente. Cada drama tiene su banda sonora original con 10-15 canciones perfectamente elegidas para cada momento. El tema romántico que suena cuando se miran, la balada que te hace llorar, la canción alegre de los momentos felices... Artistas de K-Pop compiten por grabar OST porque se vuelven hits masivos. Spoiler: vas a terminar con playlists de OST que escuchas mientras lloras.',
  },
  {
    question: '¿Cómo funcionan las temporadas de dramas en Corea?',
    answer: 'Olvida las temporadas: en Corea hay dramas nuevos TODO el año. Se emiten 2 episodios por semana durante 8-10 semanas, y las cadenas compiten en el mismo horario. Los ratings son INTENSOS: determinan anuncios, éxito comercial, y carreras. Es como una batalla semanal donde todos quieren el #1. Esta competencia constante es parte de por qué la calidad es tan alta.',
  },
  {
    question: '¿Qué es Dispatch en el entretenimiento coreano?',
    answer: '¡El medio que hace temblar a todos los idols! Dispatch es famoso por revelar relaciones de celebridades, especialmente el 1 de enero de cada año (el "D-Day" más temido). Han expuesto parejas icónicas que nadie veía venir. También cubren fashion de aeropuerto y eventos. Cuando Dispatch publica algo, internet EXPLOTA. Es el TMZ coreano pero con mejor fotografía y más drama.',
  },
  {
    question: '¿Qué son los ratings de K-Drama?',
    answer: 'Los ratings son la medida del éxito en TV coreana y se toman MUY en serio. 10% es un éxito, 20% es fenómeno nacional, 30%+ es historia. "Crash Landing on You" llegó a 21.7%, "Reply 1988" a 18.8%. Los productores, actores y fans siguen los números semanalmente. Un buen rating significa más anuncios, más temporadas potenciales, y actores felices. Es como el marcador de un partido que todos miran.',
  },
  {
    question: '¿Qué es un "dating scandal" en K-Pop?',
    answer: 'Cuando se descubre que tu idol tiene novio/a, internet ARDE. Se llama "dating scandal" aunque técnicamente no es escándalo: solo dos personas saliendo. Pero las agencias tradicionalmente lo prohíben para mantener la "fantasía" de disponibilidad. Las reacciones van desde apoyo total hasta fans devastados. La cultura está cambiando y ahora más parejas son aceptadas. Nosotros creemos que los idols merecen amor también.',
  },
  {
    question: '¿Qué significa "all-kill" en los charts coreanos?',
    answer: '¡El logro MÁXIMO en música coreana! Un all-kill es cuando una canción es #1 en TODOS los charts simultáneamente: Melon, Genie, Bugs, Vibe, FLO. Un "perfect all-kill" incluye también el chart semanal. Cuando tu artista lo logra, es momento de celebración ÉPICA. IU es la reina de los all-kills. BTS y BLACKPINK los han conseguido globalmente. Es el equivalente a ganar todos los trofeos de un deporte.',
  },
  {
    question: '¿Qué son los Baeksang Arts Awards?',
    answer: '¡Los OSCAR de Corea! Los Baeksang son el premio más prestigioso del entretenimiento coreano, combinando TV, cine y teatro. Ganar un Baeksang es el sueño de todo actor y director. La ceremonia en mayo es ESPECTACULAR: looks increíbles, discursos emotivos, y momentos virales garantizados. Cuando tu actor favorito gana, lloras con él. Es la noche más glamurosa del calendario coreano.',
  },
  {
    question: '¿Cómo funcionan los programas de supervivencia de K-Pop?',
    answer: '¡Drama, lágrimas, y el nacimiento de estrellas! Programas como "Produce 101" pusieron a trainees a competir mientras los fans votan por quién debuta. Es ADICTIVO: te encariñas con los participantes, sufres sus eliminaciones, celebras sus victorias. ENHYPEN, Kep1er, ZEROBASEONE nacieron así. Los grupos debut tienen fans dedicados desde el día uno. Es televisión de realidad llevada al extremo emocional.',
  },
  {
    question: '¿Qué es un "sasaeng" fan?',
    answer: 'El lado oscuro del fandom que TODOS rechazamos. Los sasaengs son fans obsesivos que cruzan TODAS las líneas: persiguen autos, hackean teléfonos, se infiltran en hoteles, acosan. Es ilegal, peligroso, y arruina la vida de los idols. Las agencias toman acciones legales. El fandom saludable condena este comportamiento rotundamente. Amar a un artista significa respetar su privacidad y seguridad. Punto.',
  },
];
---

<BaseLayout
  title="Noticias de K-Drama, K-Pop y Cultura Coreana"
  description="Las últimas noticias del mundo del entretenimiento coreano. K-Dramas, K-Pop, cine coreano y más, todo en español."
>
  <Fragment slot="head">
    <JsonLd schema={{ type: 'FAQPage', questions: faqData }} />
  </Fragment>
  <section class="section-shell" style="--section-bg: linear-gradient(110deg, color-mix(in srgb, var(--md-color-primary) 75%, #0b0b0b) 0%, color-mix(in srgb, var(--md-color-tertiary) 60%, transparent) 100%); --section-color: var(--md-color-on-primary);">
    <div class="section-shell__inner">
      <h1 class="text-4xl font-bold" style="color: inherit;">Noticias</h1>
      <p style="color: color-mix(in srgb, var(--md-color-on-primary) 80%, transparent); max-width: 42rem;">
        Las últimas novedades del entretenimiento coreano: dramas, música, cine y cultura pop.
      </p>
    </div>
  </section>

  <section class="section-shell" style="--section-bg: var(--md-color-surface);">
    <div class="section-shell__inner">
      <!-- Category Filter -->
      <div class="flex flex-wrap gap-2">
        <a
          href="/noticias"
          class="chip"
          style="--chip-bg: var(--md-color-primary); --chip-color: var(--md-color-on-primary); text-transform: capitalize;"
        >
          Todas
        </a>
        {newsCategories.map((cat) => (
          <a
            href={`/noticias/categoria/${cat}`}
            class="chip"
            style="--chip-bg: color-mix(in srgb, var(--md-color-surface-variant) 80%, transparent); --chip-color: var(--md-color-on-surface); text-transform: capitalize;"
          >
            {cat}
          </a>
        ))}
      </div>

      {noticias.length > 0 ? (
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {noticias.map((noticia) => (
            <ContentCard
              href={`/noticias/${noticia.slug}`}
              title={noticia.data.title}
              description={noticia.data.description}
              heroImage={noticia.data.heroImage}
              heroImageAlt={noticia.data.heroImageAlt}
            >
              <Fragment slot="badges">
                <span class="chip" style="--chip-bg: color-mix(in srgb, var(--md-color-primary) 15%, transparent); --chip-color: var(--md-color-on-primary-container); text-transform: capitalize;">
                  {noticia.data.category}
                </span>
                {noticia.data.breaking && (
                  <span class="chip" style="--chip-bg: var(--md-color-error); --chip-color: var(--md-color-on-error);">
                    Urgente
                  </span>
                )}
              </Fragment>
              <Fragment slot="metadata">
                <time
                  datetime={noticia.data.pubDate.toISOString()}
                  style="font-size: var(--md-typo-label-medium-size); color: color-mix(in srgb, var(--md-color-on-surface-variant) 80%, transparent);"
                >
                  {noticia.data.pubDate.toLocaleDateString('es-419', { year: 'numeric', month: 'long', day: 'numeric' })}
                </time>
              </Fragment>
            </ContentCard>
          ))}
        </div>
      ) : (
        <p class="text-center subtle-text">Próximamente: noticias del mundo del entretenimiento coreano</p>
      )}
    </div>
  </section>

  <!-- Glossary Section for AEO -->
  <section class="section-shell" style="--section-bg: var(--md-color-surface-container);">
    <div class="section-shell__inner">
      <h2 class="text-2xl font-bold mb-6" style="color: var(--md-color-on-surface);">Glosario del Entretenimiento Coreano</h2>
      <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3" style="color: var(--md-color-on-surface);">
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Hallyu (한류)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">La "Ola Coreana": fenómeno global de popularidad de la cultura surcoreana incluyendo K-Pop, K-Dramas, cine, moda, belleza y gastronomía.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Netizen (네티즌)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Usuario de internet coreano. Sus opiniones y comentarios en portales como Naver o Pann influyen significativamente en la industria del entretenimiento.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Daesang (대상)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Gran Premio: el galardón más prestigioso en ceremonias de premios coreanas. Reconoce al mejor artista, álbum o drama del año.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Sasaeng (사생)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Fan obsesivo que invade la privacidad de celebridades. Comportamiento rechazado por fandoms saludables y la industria del entretenimiento.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Dispatch (디스패치)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Medio de noticias de entretenimiento famoso por revelar relaciones de celebridades. Tradicionalmente publica exclusivas el 1 de enero.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">All-kill (올킬)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Cuando una canción ocupa el #1 en todas las listas musicales coreanas simultáneamente. Indica éxito masivo y dominio total de los charts.</dd>
        </div>
      </dl>
    </div>
  </section>

  <!-- FAQ Section for AEO -->
  <section class="section-shell" style="--section-bg: var(--md-color-surface-container-low);">
    <div class="section-shell__inner">
      <FAQSection questions={faqData} />
    </div>
  </section>
</BaseLayout>
