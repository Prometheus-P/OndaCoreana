---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ContentCard from '../../components/ui/ContentCard.astro';
import FAQSection from '../../components/ui/FAQSection.astro';
import JsonLd from '../../components/seo/JsonLd.astro';
import { getPublishedContentSorted } from '../../utils/content-helpers';
import { newsCategories } from '../../config/content-types';

const noticias = await getPublishedContentSorted('noticias');

// FAQ data for AEO optimization
const faqData = [
  {
    question: '¿Dónde puedo encontrar noticias de K-Drama y K-Pop en español?',
    answer: 'OndaCoreana es tu fuente principal de noticias del entretenimiento coreano en español. Cubrimos estrenos de dramas, comebacks de grupos K-Pop, noticias de actores, premios, y todo el mundo Hallyu actualizado diariamente. También puedes seguir cuentas especializadas en redes sociales y canales de YouTube dedicados al K-content en español.',
  },
  {
    question: '¿Qué es Hallyu o la Ola Coreana?',
    answer: 'Hallyu (한류) significa "Ola Coreana" y se refiere al fenómeno global de popularidad de la cultura surcoreana que comenzó en los años 2000. Incluye K-Pop, K-Dramas, cine coreano (ganador de Oscars con "Parásitos"), moda, K-beauty (cosméticos), gastronomía, y videojuegos. El término fue acuñado por medios chinos para describir la influencia cultural coreana en Asia, que ahora es mundial.',
  },
  {
    question: '¿Cuándo se estrenan nuevos K-Dramas?',
    answer: 'Los K-Dramas se estrenan durante todo el año sin temporadas definidas. Las cadenas coreanas (tvN, JTBC, SBS, KBS, MBC) lanzan nuevos dramas semanalmente, típicamente los miércoles-jueves o sábados-domingos a las 21:00-22:00 hora coreana. Netflix, Disney+, y otras plataformas tienen calendarios propios de estrenos. Publicamos todas las fechas de estreno y horarios de emisión.',
  },
  {
    question: '¿Cómo me entero de los comebacks de K-Pop?',
    answer: 'Las agencias anuncian comebacks 2-4 semanas antes a través de redes sociales oficiales (Twitter/X, Instagram, Weverse). El proceso incluye: anuncio de fecha, fotos conceptuales, teasers de video, highlight medley, y finalmente el lanzamiento. En OndaCoreana cubrimos todos los anuncios importantes, calendarios de comeback, y promociones de los grupos más populares.',
  },
  {
    question: '¿Qué premios importantes existen en el entretenimiento coreano?',
    answer: 'Premios de música: MAMA (Mnet Asian Music Awards), Melon Music Awards, Golden Disc Awards, Seoul Music Awards, y Gaon Chart Music Awards. Premios de dramas y cine: Baeksang Arts Awards (los más prestigiosos), Blue Dragon Film Awards, Grand Bell Awards, y Seoul Drama Awards. Premios de variedades: SBS Entertainment Awards, MBC Entertainment Awards. Cubrimos todas las ceremonias, nominaciones y ganadores.',
  },
  {
    question: '¿Los actores de K-Drama también cantan?',
    answer: 'Muchos actores coreanos son multitalentosos. Idols que actúan: IU (actriz y cantante solista), D.O. de EXO, Yoona de SNSD, Joy de Red Velvet, Cha Eun-woo de ASTRO. Actores que cantan OST: muchos actores graban bandas sonoras para sus propios dramas. La industria coreana valora la versatilidad, y las agencias entrenan a sus artistas en múltiples disciplinas.',
  },
  {
    question: '¿Qué significa OST en K-Drama?',
    answer: 'OST significa "Original Sound Track" (banda sonora original). Los K-Dramas son famosos por sus OST emotivas, canciones originales creadas específicamente para cada serie. Cada drama tiene 10-15 canciones en su OST, incluyendo temas principales, baladas románticas, y música instrumental. Artistas populares de K-Pop frecuentemente graban OST que se convierten en hits independientes. Los álbumes de OST se venden por separado.',
  },
  {
    question: '¿Cómo funcionan las temporadas de dramas en Corea?',
    answer: 'A diferencia de EE.UU., Corea no tiene "temporadas de TV" definidas. Los dramas se emiten durante todo el año, usualmente 2 episodios por semana durante 8-10 semanas. Las cadenas compiten simultáneamente en el mismo horario (ej: miércoles-jueves a las 22:00). Los ratings se miden por AGB Nielsen Korea y determinan el éxito comercial. La competencia es intensa entre cadenas por el horario "prime time" coreano.',
  },
  {
    question: '¿Qué es Dispatch en el entretenimiento coreano?',
    answer: 'Dispatch (디스패치) es un medio de noticias de entretenimiento coreano famoso por revelar relaciones de celebridades. Tradicionalmente publica exclusivas el 1 de enero de cada año. Sus "D-Day" son muy anticipados y temidos por fans e idols. También cubren noticias generales del entretenimiento, aeropuerto fashions, y eventos. Han revelado parejas famosas como Kai y Jennie, Song Joong-ki y Song Hye-kyo, entre otros.',
  },
  {
    question: '¿Qué son los ratings de K-Drama?',
    answer: 'Los ratings miden el porcentaje de televisores que sintonizan un programa. En Corea, AGB Nielsen Korea mide los ratings nacionales y por región (Seoul, metropolitana). Un rating de 10%+ se considera un éxito, 20%+ es un mega hit. Los récords incluyen "El Juego del Calamar" (no medido tradicionalmente por ser de Netflix), "Crash Landing on You" (21.7%), y "Reply 1988" (18.8%). Los ratings determinan contratos publicitarios y éxito comercial.',
  },
  {
    question: '¿Qué es un "dating scandal" en K-Pop?',
    answer: 'Un "dating scandal" (escándalo de citas) ocurre cuando se revela que un idol tiene una relación romántica. Aunque no es ilegal, las agencias tradicionalmente prohíben o desalientan las relaciones públicas para mantener la imagen de "disponibilidad" ante los fans. Las reacciones varían: algunos fans apoyan, otros se sienten traicionados. La cultura está cambiando y ahora más parejas son aceptadas, especialmente si los idols son mayores o establecidos.',
  },
  {
    question: '¿Qué significa "all-kill" en los charts coreanos?',
    answer: 'Un "all-kill" ocurre cuando una canción ocupa el #1 simultáneamente en todas las principales plataformas de música coreanas: Melon, Genie, Bugs, Vibe, y FLO. Un "perfect all-kill" (PAK) es cuando también es #1 en el chart semanal de iChart. Es el máximo logro de una canción y demuestra dominio total del mercado musical coreano. Artistas como IU, BTS, y BLACKPINK han logrado múltiples all-kills.',
  },
  {
    question: '¿Qué son los Baeksang Arts Awards?',
    answer: 'Los Baeksang Arts Awards (백상예술대상) son los premios más prestigiosos del entretenimiento coreano, equivalentes a los Emmy y Oscar combinados. Premian lo mejor en televisión (dramas y variedades), cine, y teatro. Se celebran anualmente en mayo. Las categorías incluyen: Gran Premio (Daesang), Mejor Actor/Actriz, Mejor Drama, y Mejor Película. Ganar un Baeksang es el máximo reconocimiento para actores y producciones coreanas.',
  },
  {
    question: '¿Cómo funcionan los programas de supervivencia de K-Pop?',
    answer: 'Los programas de supervivencia son shows donde trainees compiten para formar un grupo debut. Los fans votan para decidir quién debuta. Programas famosos: "Produce 101" (creó I.O.I, Wanna One, IZ*ONE, X1), "I-LAND" (ENHYPEN), "Girls Planet 999" (Kep1er), "Boys Planet" (ZEROBASEONE). Estos shows generan enorme atención mediática y los grupos resultantes debutan con una base de fans establecida.',
  },
  {
    question: '¿Qué es un "sasaeng" fan?',
    answer: 'Un sasaeng (사생) es un fan obsesivo que invade la privacidad de celebridades de manera extrema: siguiendo su auto, infiltrándose en hoteles, llamando repetidamente, o incluso entrando a sus casas. Este comportamiento es ilegal y peligroso. Las agencias y la policía actúan contra sasaengs. El fandom saludable rechaza este comportamiento. El término viene de "sa" (privado) y "saeng" (vida), literalmente "vida privada".',
  },
];
---

<BaseLayout
  title="Noticias de K-Drama, K-Pop y Cultura Coreana"
  description="Las últimas noticias del mundo del entretenimiento coreano. K-Dramas, K-Pop, cine coreano y más, todo en español."
>
  <Fragment slot="head">
    <JsonLd schema={{ type: 'FAQPage', questions: faqData }} />
  </Fragment>
  <section class="section-shell" style="--section-bg: linear-gradient(110deg, color-mix(in srgb, var(--md-color-primary) 75%, #0b0b0b) 0%, color-mix(in srgb, var(--md-color-tertiary) 60%, transparent) 100%); --section-color: var(--md-color-on-primary);">
    <div class="section-shell__inner">
      <h1 class="text-4xl font-bold" style="color: inherit;">Noticias</h1>
      <p style="color: color-mix(in srgb, var(--md-color-on-primary) 80%, transparent); max-width: 42rem;">
        Las últimas novedades del entretenimiento coreano: dramas, música, cine y cultura pop.
      </p>
    </div>
  </section>

  <section class="section-shell" style="--section-bg: var(--md-color-surface);">
    <div class="section-shell__inner">
      <!-- Category Filter -->
      <div class="flex flex-wrap gap-2">
        <a
          href="/noticias"
          class="chip"
          style="--chip-bg: var(--md-color-primary); --chip-color: var(--md-color-on-primary); text-transform: capitalize;"
        >
          Todas
        </a>
        {newsCategories.map((cat) => (
          <a
            href={`/noticias/categoria/${cat}`}
            class="chip"
            style="--chip-bg: color-mix(in srgb, var(--md-color-surface-variant) 80%, transparent); --chip-color: var(--md-color-on-surface); text-transform: capitalize;"
          >
            {cat}
          </a>
        ))}
      </div>

      {noticias.length > 0 ? (
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {noticias.map((noticia) => (
            <ContentCard
              href={`/noticias/${noticia.slug}`}
              title={noticia.data.title}
              description={noticia.data.description}
              heroImage={noticia.data.heroImage}
              heroImageAlt={noticia.data.heroImageAlt}
            >
              <Fragment slot="badges">
                <span class="chip" style="--chip-bg: color-mix(in srgb, var(--md-color-primary) 15%, transparent); --chip-color: var(--md-color-on-primary-container); text-transform: capitalize;">
                  {noticia.data.category}
                </span>
                {noticia.data.breaking && (
                  <span class="chip" style="--chip-bg: var(--md-color-error); --chip-color: var(--md-color-on-error);">
                    Urgente
                  </span>
                )}
              </Fragment>
              <Fragment slot="metadata">
                <time
                  datetime={noticia.data.pubDate.toISOString()}
                  style="font-size: var(--md-typo-label-medium-size); color: color-mix(in srgb, var(--md-color-on-surface-variant) 80%, transparent);"
                >
                  {noticia.data.pubDate.toLocaleDateString('es-419', { year: 'numeric', month: 'long', day: 'numeric' })}
                </time>
              </Fragment>
            </ContentCard>
          ))}
        </div>
      ) : (
        <p class="text-center subtle-text">Próximamente: noticias del mundo del entretenimiento coreano</p>
      )}
    </div>
  </section>

  <!-- Glossary Section for AEO -->
  <section class="section-shell" style="--section-bg: var(--md-color-surface-container);">
    <div class="section-shell__inner">
      <h2 class="text-2xl font-bold mb-6" style="color: var(--md-color-on-surface);">Glosario del Entretenimiento Coreano</h2>
      <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3" style="color: var(--md-color-on-surface);">
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Hallyu (한류)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">La "Ola Coreana": fenómeno global de popularidad de la cultura surcoreana incluyendo K-Pop, K-Dramas, cine, moda, belleza y gastronomía.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Netizen (네티즌)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Usuario de internet coreano. Sus opiniones y comentarios en portales como Naver o Pann influyen significativamente en la industria del entretenimiento.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Daesang (대상)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Gran Premio: el galardón más prestigioso en ceremonias de premios coreanas. Reconoce al mejor artista, álbum o drama del año.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Sasaeng (사생)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Fan obsesivo que invade la privacidad de celebridades. Comportamiento rechazado por fandoms saludables y la industria del entretenimiento.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">Dispatch (디스패치)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Medio de noticias de entretenimiento famoso por revelar relaciones de celebridades. Tradicionalmente publica exclusivas el 1 de enero.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-primary);">All-kill (올킬)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Cuando una canción ocupa el #1 en todas las listas musicales coreanas simultáneamente. Indica éxito masivo y dominio total de los charts.</dd>
        </div>
      </dl>
    </div>
  </section>

  <!-- FAQ Section for AEO -->
  <section class="section-shell" style="--section-bg: var(--md-color-surface-container-low);">
    <div class="section-shell__inner">
      <FAQSection questions={faqData} />
    </div>
  </section>
</BaseLayout>
