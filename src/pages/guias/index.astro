---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ContentCard from '../../components/ui/ContentCard.astro';
import FAQSection from '../../components/ui/FAQSection.astro';
import JsonLd from '../../components/seo/JsonLd.astro';
import { getPublishedContentSorted } from '../../utils/content-helpers';

const guias = await getPublishedContentSorted('guias');

const categories = ['streaming', 'viaje', 'idioma', 'cultura', 'general'];

// FAQ data for AEO optimization
const faqData = [
  {
    question: '¿Cuál es la mejor plataforma para ver K-Dramas?',
    answer: 'Netflix ofrece el catálogo más grande con doblaje en español y subtítulos de calidad. Viki es ideal para fans con subtítulos de la comunidad, contenido exclusivo, y muchos títulos gratuitos. Disney+ tiene producciones originales coreanas de alta calidad. Amazon Prime Video suma títulos regularmente. KOCOWA es especializado en K-content. La mejor opción depende de tu presupuesto, preferencia de subtítulos, y catálogo disponible en tu región.',
  },
  {
    question: '¿Cómo empezar a aprender coreano básico?',
    answer: 'Paso 1: Aprende el alfabeto Hangul (한글), que se puede dominar en 1-2 semanas con práctica diaria. Paso 2: Usa aplicaciones como Talk To Me In Korean (TTMIK), Duolingo, Lingodeer, o Drops. Paso 3: Ver K-Dramas con subtítulos ayuda con pronunciación y vocabulario cotidiano. Paso 4: Practica frases básicas (안녕하세요, 감사합니다, 사랑해요). Paso 5: Únete a comunidades de intercambio de idiomas. La constancia de 15-30 minutos diarios es más efectiva que sesiones largas esporádicas.',
  },
  {
    question: '¿Qué necesito para viajar a Corea del Sur?',
    answer: 'Requisitos básicos: Pasaporte vigente (6+ meses), visa (ciudadanos de muchos países hispanohablantes no necesitan visa para turismo hasta 90 días, verificar requisitos K-ETA), boleto de regreso, y prueba de alojamiento. Recomendado: seguro de viaje internacional, tarjeta T-money para transporte público, apps esenciales (Naver Maps, Papago traductor, KakaoTalk, Subway Korea), adaptador de enchufe tipo C/F, y tarjeta SIM o WiFi portátil.',
  },
  {
    question: '¿Cuánto cuesta un viaje a Corea del Sur?',
    answer: 'Presupuesto estimado para 10 días: Vuelo $800-1,500 USD (mayor gasto, varía por origen y temporada). Alojamiento $30-100/noche (hostels vs. hoteles). Comida $15-30/día (street food vs. restaurantes). Transporte local $50-100 total (T-money). Atracciones $100-200. Total aproximado: $1,500-3,000 USD. Temporada baja (marzo-mayo, septiembre-noviembre) tiene vuelos más económicos. Reservar con 3-4 meses de anticipación ayuda a conseguir mejores precios.',
  },
  {
    question: '¿Qué lugares visitar en Seúl para fans de K-Drama?',
    answer: 'Locaciones icónicas de K-Drama: Namsan Tower (escenas románticas, candados del amor), Bukchon Hanok Village (casas tradicionales), Gyeongbokgung Palace (dramas históricos). Para fans de K-Pop: HYBE Insight (BTS), SMTOWN en COEX, Gangnam (tiendas de merchandise). Áreas populares: Hongdae (cafés temáticos, vida nocturna), Myeongdong (compras, K-beauty), Itaewon (internacional). Tours de locaciones de dramas específicos están disponibles.',
  },
  {
    question: '¿Cómo ver K-Dramas gratis y legalmente?',
    answer: 'Opciones gratuitas legales: Viki (contenido con anuncios, subtítulos de la comunidad), YouTube (canales oficiales como KBS World, SBS World, MBCdrama con dramas completos), Tubi y Pluto TV (catálogo limitado). Pruebas gratuitas: Netflix, Disney+, Amazon Prime ofrecen 7-30 días gratis. KOCOWA tiene período de prueba. Evita sitios piratas que dañan la industria y a menudo tienen virus o malware.',
  },
  {
    question: '¿Qué comida coreana debo probar primero?',
    answer: 'Para principiantes (menos picante): Bibimbap (arroz con vegetales y huevo), Bulgogi (carne de res marinada dulce), Kimbap (rollos de arroz estilo coreano), Korean Fried Chicken (pollo frito crujiente), Japchae (fideos de camote). Nivel intermedio: Kimchi (vegetal fermentado), Samgyeopsal (panceta a la parrilla), Sundubu-jjigae (tofu suave). Aventurero: Tteokbokki (pasteles de arroz picantes), Budae-jjigae (estofado estilo army). El Korean BBQ es experiencia obligada.',
  },
  {
    question: '¿Cuáles son las costumbres coreanas más importantes?',
    answer: 'Jerarquía por edad: Respeta a los mayores, usa honoríficos, deja que los mayores coman primero. Etiqueta general: Usa dos manos para dar y recibir objetos (especialmente con mayores), quítate los zapatos al entrar a casas y algunos restaurantes, inclínate al saludar (ángulo según respeto). En la mesa: No claves los palillos verticalmente en el arroz (asociado con funerales), no te sirvas bebida tú mismo (sirve a otros). Social: Rechaza regalos al menos una vez antes de aceptar, el contacto visual prolongado puede ser descortés.',
  },
  {
    question: '¿Cómo funciona el transporte público en Corea del Sur?',
    answer: 'El transporte público en Corea es eficiente y económico. Metro: Seúl tiene una de las mejores redes del mundo, señalización en inglés, apps como Subway Korea ayudan. Bus: Extenso pero más complejo para turistas. T-money: Tarjeta recargable que funciona en metro, bus, taxi, y tiendas de conveniencia; se compra en estaciones y convenience stores. KTX: Tren de alta velocidad conecta ciudades principales (Seúl-Busan en 2.5 horas). Taxi: Económicos y seguros, usa KakaoTaxi para pedir.',
  },
  {
    question: '¿Qué es el K-Beauty y cómo empezar?',
    answer: 'K-Beauty (Korean Beauty) es el enfoque coreano al cuidado de la piel, famoso mundialmente por su efectividad. La rutina básica incluye: doble limpieza (aceite + espuma), tónico, esencia/serum, hidratante, y protector solar (¡esencial!). Ingredientes populares: ácido hialurónico, niacinamida, centella asiática, mucina de caracol. Marcas populares: COSRX, Innisfree, Laneige, Sulwhasoo, Missha. En Corea, compra en Olive Young (cadena de farmacias) o Myeongdong. La clave es consistencia y protección solar diaria.',
  },
  {
    question: '¿Cuándo es la mejor época para visitar Corea del Sur?',
    answer: 'Primavera (marzo-mayo): Floración de cerezos en abril, clima templado, muy popular. Otoño (septiembre-noviembre): Follaje colorido, clima perfecto, festivales. Verano (junio-agosto): Caluroso y húmedo, temporada de monsón en julio, precios más bajos. Invierno (diciembre-febrero): Frío intenso, nieve, festivales de luces, mercados navideños. Evita: Chuseok (septiembre) y Seollal (febrero lunar) cuando todo cierra y el transporte está lleno. La mejor época general es primavera u otoño.',
  },
  {
    question: '¿Cómo comunicarse en Corea sin saber coreano?',
    answer: 'Apps esenciales: Papago (traductor de Naver, mejor para coreano que Google), Google Translate (cámara para traducir letreros). Navegación: Naver Maps o KakaoMap (Google Maps es limitado en Corea). Comunicación: KakaoTalk (el WhatsApp de Corea). Inglés: Ampliamente entendido en zonas turísticas, menos en áreas locales. Frases útiles: "안녕하세요" (hola), "감사합니다" (gracias), "영어 할 수 있어요?" (¿habla inglés?). Los coreanos aprecian cualquier intento de hablar su idioma.',
  },
  {
    question: '¿Qué es un jjimjilbang y cómo funciona?',
    answer: 'Un jjimjilbang (찜질방) es un baño público coreano con saunas, piscinas termales, y áreas de descanso. Cómo funciona: Paga la entrada ($10-15 USD), recibes uniforme y toalla, guarda tus cosas en locker. Área de baños: Separada por género, te bañas desnudo (obligatorio antes de entrar a piscinas). Área común: Con ropa, saunas temáticas, sala de descanso, comida (huevos cocidos, sikhye). Etiqueta: Lávate bien antes de entrar a las piscinas, no uses el celular en áreas de baño. Es experiencia cultural única, abierto 24 horas.',
  },
  {
    question: '¿Cómo comprar merchandise de K-Pop en Corea?',
    answer: 'Tiendas oficiales: HYBE Insight (BTS, SEVENTEEN), SM Town en COEX (EXO, NCT, aespa), JYP Store (Stray Kids, TWICE). Zonas de compras: Myeongdong (tiendas de K-Pop), Hongdae (tiendas independientes y segunda mano), Gangnam. Albums: Kyobo Bookstore, Yes24, Hot Tracks. Photocards: Tiendas de intercambio en Hongdae. Online: Weverse Shop, Ktown4u (envío internacional). Tips: Lleva efectivo para tiendas pequeñas, revisa autenticidad de productos, guarda recibos para tax refund si compras mucho.',
  },
  {
    question: '¿Qué aplicaciones necesito para viajar a Corea?',
    answer: 'Navegación: Naver Maps o KakaoMap (Google Maps limitado). Transporte: Subway Korea (metro), KakaoTaxi (taxis). Traducción: Papago (el mejor para coreano), Google Translate (cámara). Comunicación: KakaoTalk (esencial, todos lo usan). Comida: MangoPlate (reseñas de restaurantes), Yogiyo (delivery). Compras: Coupang (Amazon coreano). Turismo: Visit Korea (oficial de turismo), Klook/GetYourGuide (tours). Pagos: Muchos lugares aceptan tarjetas internacionales, pero ten algo de efectivo won para pequeños comercios.',
  },
];
---

<BaseLayout
  title="Guías de Cultura Coreana - Streaming, Viaje, Idioma"
  description="Guías completas sobre cultura coreana: cómo ver K-Dramas, aprender coreano, viajar a Corea y más. Todo explicado en español."
>
  <Fragment slot="head">
    <JsonLd schema={{ type: 'FAQPage', questions: faqData }} />
  </Fragment>
  <section class="section-shell" style="--section-bg: linear-gradient(140deg, color-mix(in srgb, var(--md-color-tertiary) 65%, #002222) 0%, color-mix(in srgb, var(--md-color-primary) 55%, transparent) 100%); --section-color: var(--md-color-on-primary);">
    <div class="section-shell__inner">
      <h1 class="text-4xl font-bold" style="color: inherit;">Guías</h1>
      <p style="color: color-mix(in srgb, var(--md-color-on-primary) 80%, transparent); max-width: 40rem;">
        Todo lo que necesitas saber sobre la cultura coreana: streaming, viajes, idioma y costumbres.
      </p>
    </div>
  </section>

  <section class="section-shell" style="--section-bg: var(--md-color-surface);">
    <div class="section-shell__inner">
      <!-- Category Filter -->
      <div class="flex flex-wrap gap-2">
        <a
          href="/guias"
          class="chip"
          style="--chip-bg: var(--md-color-tertiary); --chip-color: var(--md-color-on-tertiary); text-transform: capitalize;"
        >
          Todas
        </a>
        {categories.map((cat) => (
          <a
            href={`/guias/categoria/${cat}`}
            class="chip"
            style="--chip-bg: color-mix(in srgb, var(--md-color-surface-variant) 80%, transparent); --chip-color: var(--md-color-on-surface); text-transform: capitalize;"
          >
            {cat}
          </a>
        ))}
      </div>

      {guias.length > 0 ? (
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {guias.map((guia) => (
            <ContentCard
              href={`/guias/${guia.slug}`}
              title={guia.data.title}
              description={guia.data.description}
              heroImage={guia.data.heroImage}
              heroImageAlt={guia.data.heroImageAlt}
            >
              <Fragment slot="badges">
                <span class="chip" style="--chip-bg: color-mix(in srgb, var(--md-color-tertiary) 15%, transparent); --chip-color: var(--md-color-on-tertiary-container); text-transform: capitalize;">
                  {guia.data.category}
                </span>
                {guia.data.difficulty && (
                  <span class="chip" style="--chip-bg: color-mix(in srgb, var(--md-color-surface-variant) 80%, transparent); --chip-color: var(--md-color-on-surface); text-transform: capitalize;">
                    {guia.data.difficulty}
                  </span>
                )}
              </Fragment>
              <Fragment slot="metadata">
                {guia.data.readingTime && (
                  <p style="font-size: var(--md-typo-label-medium-size); color: color-mix(in srgb, var(--md-color-on-surface-variant) 80%, transparent);">
                    Tiempo de lectura: {guia.data.readingTime} min
                  </p>
                )}
              </Fragment>
            </ContentCard>
          ))}
        </div>
      ) : (
        <p class="text-center subtle-text">Próximamente: guías sobre streaming, viajes a Corea, idioma coreano y más</p>
      )}
    </div>
  </section>

  <!-- Glossary Section for AEO -->
  <section class="section-shell" style="--section-bg: var(--md-color-surface-container);">
    <div class="section-shell__inner">
      <h2 class="text-2xl font-bold mb-6" style="color: var(--md-color-on-surface);">Glosario de Cultura Coreana</h2>
      <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3" style="color: var(--md-color-on-surface);">
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-tertiary);">Hangul (한글)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Alfabeto coreano creado en 1443 por el Rey Sejong. Sistema fonético de 14 consonantes y 10 vocales, considerado uno de los más científicos del mundo.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-tertiary);">Hanbok (한복)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Vestimenta tradicional coreana. Consiste en jeogori (chaqueta) y chima (falda) para mujeres, o baji (pantalón) para hombres. Se usa en festividades y bodas.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-tertiary);">Kimchi (김치)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Vegetales fermentados, principalmente col china con chile, ajo y jengibre. Patrimonio cultural inmaterial de la UNESCO y acompañamiento esencial en comidas coreanas.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-tertiary);">Soju (소주)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Bebida alcohólica destilada tradicional de Corea (16-25% alcohol). Se bebe en shots pequeños y es parte integral de la cultura social coreana.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-tertiary);">Jjimjilbang (찜질방)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Baño público coreano con saunas, piscinas calientes y áreas de descanso. Experiencia cultural única que incluye tratamientos de spa y comida.</dd>
        </div>
        <div class="p-4 rounded-lg" style="background: var(--md-color-surface-container-high);">
          <dt class="font-semibold text-lg" style="color: var(--md-color-tertiary);">T-money (티머니)</dt>
          <dd class="mt-1 text-sm" style="color: var(--md-color-on-surface-variant);">Tarjeta recargable para transporte público en Corea. Funciona en metro, autobús y taxis. También sirve para compras en tiendas de conveniencia.</dd>
        </div>
      </dl>
    </div>
  </section>

  <!-- FAQ Section for AEO -->
  <section class="section-shell" style="--section-bg: var(--md-color-surface-container-low);">
    <div class="section-shell__inner">
      <FAQSection questions={faqData} />
    </div>
  </section>
</BaseLayout>
