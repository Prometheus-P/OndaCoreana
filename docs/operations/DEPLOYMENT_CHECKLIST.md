---
title: HallyuLatino 배포 체크리스트
version: 1.0.0
status: Draft
owner: @hallyulatino-team
created: 2025-11-25
updated: 2025-11-25
language: Korean (한국어)
---

# DEPLOYMENT_CHECKLIST.md - 배포 체크리스트

## 변경 이력 (Changelog)

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0.0 | 2025-11-25 | @hallyulatino-team | 최초 작성 |

---

## 1. 배포 전 체크리스트

### 1.1 코드 품질

- [ ] 모든 테스트가 통과하는가?
- [ ] 코드 커버리지가 목표를 달성했는가? (Unit 80%, Integration 60%)
- [ ] Lint 검사를 통과했는가?
- [ ] 타입 체크를 통과했는가?
- [ ] 코드 리뷰가 완료되었는가?
- [ ] PR이 승인되고 병합되었는가?

### 1.2 보안

- [ ] 보안 취약점 스캔을 통과했는가?
- [ ] 민감한 정보가 코드에 하드코딩되지 않았는가?
- [ ] 환경변수가 올바르게 설정되었는가?
- [ ] API 키와 시크릿이 안전하게 관리되고 있는가?
- [ ] HTTPS가 적용되어 있는가?

### 1.3 데이터베이스

- [ ] 마이그레이션 스크립트가 준비되었는가?
- [ ] 마이그레이션이 스테이징에서 테스트되었는가?
- [ ] 롤백 계획이 있는가?
- [ ] 데이터 백업이 완료되었는가?

### 1.4 문서화

- [ ] CHANGELOG가 업데이트되었는가?
- [ ] API 문서가 업데이트되었는가?
- [ ] 버전 번호가 업데이트되었는가?
- [ ] 릴리스 노트가 작성되었는가?

---

## 2. 스테이징 배포

### 2.1 스테이징 배포 절차

```bash
# 1. 스테이징 브랜치로 이동
git checkout develop
git pull origin develop

# 2. 스테이징 환경에 배포
make deploy-staging

# 3. 스테이징 환경 헬스체크
curl https://staging-api.hallyulatino.com/health
```

### 2.2 스테이징 검증

- [ ] 애플리케이션이 정상적으로 시작되는가?
- [ ] 헬스체크 엔드포인트가 응답하는가?
- [ ] 주요 기능이 정상 동작하는가?
- [ ] 로그에 에러가 없는가?
- [ ] 성능 지표가 정상 범위인가?

---

## 3. 프로덕션 배포

### 3.1 프로덕션 배포 절차

```bash
# 1. 릴리스 브랜치 생성 (또는 main으로 병합)
git checkout main
git pull origin main

# 2. 태그 생성
git tag -a v1.x.x -m "Release v1.x.x"
git push origin v1.x.x

# 3. 프로덕션 배포 (CI/CD가 자동으로 실행)
# 또는 수동 승인 후 배포
```

### 3.2 Canary 배포 단계

| 단계 | 트래픽 비율 | 대기 시간 | 모니터링 |
|------|------------|-----------|----------|
| 1 | 10% | 15분 | 에러율, 지연시간 |
| 2 | 50% | 30분 | 에러율, 지연시간 |
| 3 | 100% | - | 전체 메트릭 |

### 3.3 배포 중 모니터링

- [ ] 에러율이 1% 미만인가?
- [ ] API 응답 시간이 정상 범위인가? (P95 < 200ms)
- [ ] CPU/메모리 사용률이 정상인가?
- [ ] 사용자 불만이 접수되지 않았는가?

---

## 4. 배포 후 체크리스트

### 4.1 즉시 확인

- [ ] 모든 서비스가 정상 동작하는가?
- [ ] 헬스체크가 통과하는가?
- [ ] 로그에 심각한 에러가 없는가?
- [ ] 알림 시스템이 정상인가?

### 4.2 모니터링 (30분)

- [ ] 트래픽 패턴이 정상인가?
- [ ] 에러율이 급증하지 않았는가?
- [ ] 데이터베이스 쿼리가 정상인가?
- [ ] 외부 서비스 연동이 정상인가?

### 4.3 사후 작업

- [ ] 릴리스 노트를 공지했는가?
- [ ] 팀에 배포 완료를 알렸는가?
- [ ] 릴리스 브랜치를 정리했는가?
- [ ] 다음 릴리스 계획을 업데이트했는가?

---

## 5. 롤백 절차

### 5.1 롤백 기준

다음 조건 중 하나라도 해당되면 롤백 고려:

- 에러율이 5% 이상
- API 응답 시간이 정상 대비 2배 이상
- 핵심 기능 장애
- 데이터 손실 또는 무결성 문제

### 5.2 롤백 절차

```bash
# 1. 이전 버전으로 롤백
kubectl rollout undo deployment/backend -n hallyulatino-prod

# 2. 롤백 상태 확인
kubectl rollout status deployment/backend -n hallyulatino-prod

# 3. 서비스 상태 확인
curl https://api.hallyulatino.com/health
```

### 5.3 롤백 후 작업

- [ ] 팀에 롤백 사실을 알렸는가?
- [ ] 롤백 원인을 분석했는가?
- [ ] 인시던트 리포트를 작성했는가?
- [ ] 재배포 계획을 수립했는가?

---

## 6. 비상 연락처

| 역할 | 담당자 | 연락처 |
|------|--------|--------|
| 온콜 담당 | - | PagerDuty |
| 테크 리드 | @tech-lead | Slack |
| DevOps | @devops-team | Slack |
| PM | @pm | Slack |

---

*이 체크리스트는 모든 배포 시 반드시 확인해야 합니다.*
